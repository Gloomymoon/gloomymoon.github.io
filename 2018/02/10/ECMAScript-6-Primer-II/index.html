<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          ECMAScript-6-Primer-II - Master Gloomymoon&#39;s R2D2
        
    </title>

    <link rel="canonical" href="http://gloomymoon.github.io/2018/02/10/ECMAScript-6-Primer-II/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Gloomymoon</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="http://gloomymoon.github.io/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/overwatch_s.jpg');
    }
</style>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#JavaScript" title="JavaScript">JavaScript</a>
                        
                          <a class="tag" href="/tags/#ECMAScript" title="ECMAScript">ECMAScript</a>
                        
                    </div>
                    <h1>ECMAScript-6-Primer-II</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by Gloomymoon on
                        2018-02-10
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1 id="ECMAScript-6-Primer-II"><a href="#ECMAScript-6-Primer-II" class="headerlink" title="ECMAScript 6 Primer II"></a>ECMAScript 6 Primer II</h1><h2 id="4-字符串的扩展"><a href="#4-字符串的扩展" class="headerlink" title="4 字符串的扩展"></a>4 字符串的扩展</h2><h3 id="4-1-字符的Unicode表示法"><a href="#4-1-字符的Unicode表示法" class="headerlink" title="4.1 字符的Unicode表示法"></a>4.1 字符的Unicode表示法</h3><p>JavaScript允许采用<code>\uxxxx</code>形式表示一个字符，其中<code>xxxx</code>表示字符的Unicode码点。</p>
<p>但是这种表示法只限于码点在<code>\u0000</code>～<code>\uFFFF</code>之间的字符，超出范围的字符必须要用连个双字节的形式表示。</p>
<p>ES6允许将码点放入大括号中，就能够正确解读超过<code>\uFFFF</code>的字符。<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">"<span class="tag">\<span class="name">uD</span></span>842<span class="tag">\<span class="name">uDFB</span></span>7"</span><br><span class="line">// "𠮷"</span><br><span class="line"></span><br><span class="line">"<span class="tag">\<span class="name">u</span></span>20BB7"</span><br><span class="line">// " 7" 无法正确解读，会理解<span class="tag">\<span class="name">u</span></span>20BB+7，而<span class="tag">\<span class="name">u</span></span>20BB是一个不可打印字符</span><br><span class="line"></span><br><span class="line">"<span class="tag">\<span class="name">u</span><span class="string">&#123;20BB7&#125;</span></span>"</span><br><span class="line">// "𠮷"</span><br><span class="line"></span><br><span class="line">"<span class="tag">\<span class="name">u</span><span class="string">&#123;41&#125;</span></span><span class="tag">\<span class="name">u</span><span class="string">&#123;42&#125;</span></span><span class="tag">\<span class="name">u</span><span class="string">&#123;43&#125;</span></span>"</span><br><span class="line">// "ABC"</span><br><span class="line"></span><br><span class="line">let hello = 123;</span><br><span class="line">hell<span class="tag">\<span class="name">u</span><span class="string">&#123;6F&#125;</span></span> // 123</span><br><span class="line"></span><br><span class="line">'<span class="tag">\<span class="name">u</span><span class="string">&#123;1F680&#125;</span></span>' === '<span class="tag">\<span class="name">uD</span></span>83D<span class="tag">\<span class="name">uDE</span></span>80'</span><br><span class="line">// true</span><br></pre></td></tr></table></figure></p>
<h3 id="4-2-codePointAt"><a href="#4-2-codePointAt" class="headerlink" title="4.2 codePointAt()"></a>4.2 codePointAt()</h3><p>JavaScript内部字符以UTF-16格式存储，每个字符固定为2个字节，对于需要使用4个字节存储的字符（即码点大于<code>0xFFFF</code>），JavaScript会认为他们是两个字符。</p>
<p>ES6提供了<code>codePointAt</code>方法，能够正确处理4个字节存储的字符，返回一个字符的码点。</p>
<h3 id="4-3-String-fromCodePoint"><a href="#4-3-String-fromCodePoint" class="headerlink" title="4.3 String.fromCodePoint()"></a>4.3 String.fromCodePoint()</h3><p>ES6提供了<code>String.fromCodePoint</code>方法，可以识别大于<code>0xFFFF</code>的字符，弥补了<code>String.fromCharCode</code>方法的不足。</p>
<h3 id="4-4-字符串的遍历接口"><a href="#4-4-字符串的遍历接口" class="headerlink" title="4.4 字符串的遍历接口"></a>4.4 字符串的遍历接口</h3><p>ES6为字符串添加了遍历器接口，使得字符串可以被<code>for ... of</code>循环遍历。<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (let codePoint of <span class="string">'foo'</span>) &#123;</span><br><span class="line">  console.log(codePoint)</span><br><span class="line">&#125;</span><br><span class="line"><span class="regexp">//</span> <span class="string">"f"</span></span><br><span class="line"><span class="regexp">//</span> <span class="string">"o"</span></span><br><span class="line"><span class="regexp">//</span> <span class="string">"o"</span></span><br></pre></td></tr></table></figure></p>
<p>这个遍历器的最大优点是可以识别大于<code>0xFFFF</code>的码点。</p>
<h3 id="4-5-at"><a href="#4-5-at" class="headerlink" title="4.5 at()"></a>4.5 at()</h3><p>ES5对字符串对象提供<code>charAt</code>方法，返回字符串给定位置的字符，但是该方法不能识别码点大于<code>0xFFFF</code>的字符。</p>
<p>目前有一个提案，提出字符串实例的<code>at</code>方法，可以识别大于<code>0xFFFF</code>的字符。</p>
<h3 id="4-6-normalize"><a href="#4-6-normalize" class="headerlink" title="4.6 normalize()"></a>4.6 normalize()</h3><p>ES6提供字符串实例的<code>normalize</code>方法，用来将字符的不同表示方法统一为同样的形式，成为Unocode正规化。</p>
<p>主要用于在判断欧洲语言有语调符号和重音符号的字符在视觉和语义上的判断是等价的。</p>
<h3 id="4-7-includes-startsWith-endsWith"><a href="#4-7-includes-startsWith-endsWith" class="headerlink" title="4.7 includes(), startsWith(), endsWith()"></a>4.7 includes(), startsWith(), endsWith()</h3><p>除了传统的<code>indexOf</code>方法，ES6又提供了三种方法来确定一个字符串是否包含在另一个字符串中。</p>
<ul>
<li>includes(): 返回布尔值，表示是否找到了参数字符串</li>
<li>startsWith(): 返回布尔值，表示参数字符串是否在原字符串的头部</li>
<li>endsWith(): 返回布尔值，表示参数字符串是否在原字符串的尾部</li>
</ul>
<p>三个方法都支持第二个参数，前两个表示开始搜索的位置，最后一个表示针对前<code>n</code>个字符。</p>
<h3 id="4-8-repeat"><a href="#4-8-repeat" class="headerlink" title="4.8 repeat()"></a>4.8 repeat()</h3><p><code>repeat</code>方法返回一个新字符串，表示将原字符串重复<code>n</code>次。<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'x'</span>.<span class="keyword">repeat</span><span class="comment">(3)</span> <span class="comment">// "xxx"</span></span><br><span class="line"><span class="string">'na'</span>.<span class="keyword">repeat</span><span class="comment">(0)</span> <span class="comment">// ""</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-9-padStart-padEnd"><a href="#4-9-padStart-padEnd" class="headerlink" title="4.9 padStart(), padEnd()"></a>4.9 padStart(), padEnd()</h3><p>如果某个字符串不够指定长度，ES2017提供了在头部或尾部补全的方法。<code>padStart()</code>用于头部补全，<code>padEnd()</code>用于尾部补全。<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'x'</span>.padStart(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="regexp">//</span> <span class="string">'ababx'</span></span><br><span class="line"><span class="string">'x'</span>.padStart(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="regexp">//</span> <span class="string">'abax'</span></span><br><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="regexp">//</span> <span class="string">'xabab'</span></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="regexp">//</span> <span class="string">'xaba'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-10-matchAll"><a href="#4-10-matchAll" class="headerlink" title="4.10 matchAll()"></a>4.10 matchAll()</h3><p><code>matchAll</code>方法返回一个正则表示式在当前字符串的所有匹配，详见《正则的扩展》一节。</p>
<h3 id="4-11-模板字符串"><a href="#4-11-模板字符串" class="headerlink" title="4.11 模板字符串"></a>4.11 模板字符串</h3><p>ES6引入了模板字符串，是增强版的字符串，用反引号标识，可以定义多行字符串，或者嵌入变量。<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通字符串</span></span><br><span class="line">`<span class="built_in">In</span> JavaScript <span class="string">'\n'</span> is a line-feed.`</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多行字符串</span></span><br><span class="line">`<span class="built_in">In</span> JavaScript this is</span><br><span class="line"> <span class="built_in">not</span> legal.`</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(`string <span class="built_in">text</span> line <span class="number">1</span></span><br><span class="line">string <span class="built_in">text</span> line <span class="number">2</span>`);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串中嵌入变量</span></span><br><span class="line">let <span class="built_in">name</span> = <span class="string">"Bob"</span>, <span class="built_in">time</span> = <span class="string">"today"</span>;</span><br><span class="line">`Hello $&#123;<span class="built_in">name</span>&#125;, how are you $&#123;<span class="built_in">time</span>&#125;?`</span><br></pre></td></tr></table></figure></p>
<p>实际上大括号内部可以放入任意的JavaScript表达式，可以进行运算，引用对象属性，调用函数等。</p>
<p>如果需要引用模板字符串本上，在需要时执行，可以像下面这样写。<br><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'return '</span> + <span class="string">'`Hello $&#123;name&#125;!`'</span>;</span><br><span class="line"><span class="keyword">let</span> func = <span class="keyword">new</span> <span class="function"><span class="keyword">Function</span><span class="params">(<span class="string">'name'</span>, str)</span></span>;</span><br><span class="line">func(<span class="string">'Jack'</span>) <span class="comment">// "Hello Jack!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'(name) =&gt; `Hello $&#123;name&#125;!`'</span>;</span><br><span class="line"><span class="keyword">let</span> func = <span class="keyword">eval</span>.call(<span class="keyword">null</span>, str);</span><br><span class="line">func(<span class="string">'Jack'</span>) <span class="comment">// "Hello Jack!"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-12-实例：模板编译"><a href="#4-12-实例：模板编译" class="headerlink" title="4.12 实例：模板编译"></a>4.12 实例：模板编译</h3><p>具体请参见<a href="http://es6.ruanyifeng.com/#docs/string" target="_blank" rel="noopener">这里</a>。</p>
<h3 id="4-13-标签模板"><a href="#4-13-标签模板" class="headerlink" title="4.13 标签模板"></a>4.13 标签模板</h3><p>模板字符串还可以紧跟在一个函数名后面，该函数将被调用来处理这个模板字符串。着被称为“标签模板”功能（tagged  template）。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert`<span class="number">123</span>`</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="function"><span class="title">alert</span><span class="params">(<span class="number">123</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-13-String-raw"><a href="#4-13-String-raw" class="headerlink" title="4.13 String.raw()"></a>4.13 String.raw()</h3><p>ES6还未原生的String对象提供了一个<code>raw</code>方法，用来充当模板字符床的处理函数，返回一个斜杠都被转义的字符串。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\n<span class="subst">$&#123;<span class="number">2</span>+<span class="number">3</span>&#125;</span>!`</span>;</span><br><span class="line"><span class="comment">// 返回 "Hi\\n5!"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\u000A!`</span>;</span><br><span class="line"><span class="comment">// 返回 "Hi\\u000A!"</span></span><br></pre></td></tr></table></figure></p>
<p>如果原字符串的斜杠已经转义，那么<code>String.raw</code>会进行再次转义。</p>
<h2 id="5-正则的扩展"><a href="#5-正则的扩展" class="headerlink" title="5 正则的扩展"></a>5 正则的扩展</h2><h3 id="5-1-RegExp构造函数"><a href="#5-1-RegExp构造函数" class="headerlink" title="5.1 RegExp构造函数"></a>5.1 RegExp构造函数</h3><p>ES6允许在使用<code>RegExp</code>构造函数时，当第一个参数是正则表达式时，可以使用第二个参数添加修饰符。</p>
<h3 id="5-2-字符串的正则方法"><a href="#5-2-字符串的正则方法" class="headerlink" title="5.2 字符串的正则方法"></a>5.2 字符串的正则方法</h3><p>ES6将字符串对象的4个正则表达式：<code>match()</code>、<code>replace()</code>、<code>search()</code>和<code>split()</code>，在语言内部全部调用<code>RegExp</code>的实例方法。</p>
<h3 id="5-3-u修饰符"><a href="#5-3-u修饰符" class="headerlink" title="5.3 u修饰符"></a>5.3 u修饰符</h3><p>ES6对正则表达式添加了<code>u</code>修饰符，含义为“Unicode模式”，用来正确处理四个字节的UTF-16编码。<br>详细参见<a href="http://es6.ruanyifeng.com/#docs/regex" target="_blank" rel="noopener">这里</a>。</p>
<h3 id="5-4-y修饰符"><a href="#5-4-y修饰符" class="headerlink" title="5.4 y修饰符"></a>5.4 y修饰符</h3><p><code>y</code>修饰符叫做“粘连”修饰符，表示确保匹配必须从剩余的第一个位置开始。</p>
<h3 id="5-5-sticky属性"><a href="#5-5-sticky属性" class="headerlink" title="5.5 sticky属性"></a>5.5 sticky属性</h3><p>与<code>y</code>修饰符相匹配，ES6的正则对象多了<code>sticky</code>属性，表示是否设置了<code>y</code>修饰符。</p>
<h3 id="5-6-flags属性"><a href="#5-6-flags属性" class="headerlink" title="5.6 flags属性"></a>5.6 flags属性</h3><p>ES6为正则表达式新增了<code>flags</code>属性，返回正则表达式的修饰符。</p>
<h3 id="5-7-s修饰符：dotAll模式"><a href="#5-7-s修饰符：dotAll模式" class="headerlink" title="5.7 s修饰符：dotAll模式"></a>5.7 s修饰符：dotAll模式</h3><p>正则表达式中，点（.）是一个特殊字符，代表任意的单个字符，但是有两个例外。一个是四个字节的 UTF-16 字符，这个可以用u修饰符解决；另一个是行终止符（line terminator character）。</p>
<p>ES2018 引入s修饰符，使得.可以匹配任意单个字符。</p>
<h3 id="5-8-后行断言"><a href="#5-8-后行断言" class="headerlink" title="5.8 后行断言"></a>5.8 后行断言</h3><p>ES2018引入了后行断言。</p>
<h3 id="5-9-Unicode属性类"><a href="#5-9-Unicode属性类" class="headerlink" title="5.9 Unicode属性类"></a>5.9 Unicode属性类</h3><p>ES2018引入了一种新的类的写法<code>\p{...}</code>和<code>\P{...}</code>，允许正则表达式匹配符合Unicode某种属性的所有字符。</p>
<h3 id="5-10-具名组匹配"><a href="#5-10-具名组匹配" class="headerlink" title="5.10 具名组匹配"></a>5.10 具名组匹配</h3><p>正则表达式时用圆括号进行组匹配。ES2018引入了具名组匹配（Named Capture Groups），允许为每一个组匹配指定一个名字，既便于阅读代码，又便于引用。</p>
<p>有了具名组匹配以后，可以使用解构赋值直接从匹配结果上位变量赋值。<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let &#123;groups: &#123;<span class="keyword">one</span>, <span class="keyword">two</span>&#125;&#125; = /^(?&lt;<span class="keyword">one</span>&gt;.*):(?&lt;<span class="keyword">two</span>&gt;.*)$/<span class="keyword">u</span>.exec('foo:bar');</span><br><span class="line"><span class="keyword">one</span>  <span class="comment">// foo</span></span><br><span class="line"><span class="keyword">two</span>  <span class="comment">// bar</span></span><br></pre></td></tr></table></figure></p>
<p>字符串替换时，使用<code>$&lt;组名&gt;</code>引用具名组。<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">let re = /(?<span class="tag">&lt;<span class="name">year</span>&gt;</span>\d</span><span class="template-variable">&#123;4&#125;</span><span class="xml">)-(?<span class="tag">&lt;<span class="name">month</span>&gt;</span>\d</span><span class="template-variable">&#123;2&#125;</span><span class="xml">)-(?<span class="tag">&lt;<span class="name">day</span>&gt;</span>\d</span><span class="template-variable">&#123;2&#125;</span><span class="xml">)/u;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">'2015-01-02'.replace(re, '$<span class="tag">&lt;<span class="name">day</span>&gt;</span>/$<span class="tag">&lt;<span class="name">month</span>&gt;</span>/$<span class="tag">&lt;<span class="name">year</span>&gt;</span>')</span></span><br><span class="line"><span class="xml">// '02/01/2015'</span></span><br></pre></td></tr></table></figure></p>
<p>如果要在正则表达式内部引用某个“具名组匹配”，可以使用\k&lt;组名&gt;的写法。<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> RE_TWICE = /^(?&lt;<span class="keyword">word</span>&gt;[a-z]+)!\k&lt;<span class="keyword">word</span>&gt;$/;</span><br><span class="line">RE_TWICE.test(<span class="string">'abc!abc'</span>) <span class="comment">// true</span></span><br><span class="line">RE_TWICE.test(<span class="string">'abc!ab'</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<h3 id="5-11-String-prototype-matchAll"><a href="#5-11-String-prototype-matchAll" class="headerlink" title="5.11 String.prototype.matchAll"></a>5.11 String.prototype.matchAll</h3><p>目前有一个提案，增加了<code>String.prototype.matchAll</code>方法，可以一次性取出所有匹配。不过，它返回的是一个遍历器（Iterator），而不是数组。</p>
<h2 id="6-熟知的扩展"><a href="#6-熟知的扩展" class="headerlink" title="6 熟知的扩展"></a>6 熟知的扩展</h2><h3 id="6-1-二进制和八进制表示法"><a href="#6-1-二进制和八进制表示法" class="headerlink" title="6.1 二进制和八进制表示法"></a>6.1 二进制和八进制表示法</h3><p>ES6提供了二进制和八进制熟知的新的表示法，分别用前缀<code>0b</code>和<code>0o</code>表示。</p>
<h3 id="6-2-Number-isFinite-Number-isNaN"><a href="#6-2-Number-isFinite-Number-isNaN" class="headerlink" title="6.2 Number.isFinite(), Number.isNaN()"></a>6.2 Number.isFinite(), Number.isNaN()</h3><p>ES6在<code>Number</code>对象上，新提供了<code>Number.isFinite()</code>和<code>Number.isNaN()</code>两个方法。<br>前者用来检查一个数值是否为有限，既不是<code>Infinity</code>，后者用来检查一个值是否为<code>NaN</code>。</p>
<h3 id="6-3-Number-parseInt-Number-parseFloat"><a href="#6-3-Number-parseInt-Number-parseFloat" class="headerlink" title="6.3 Number.parseInt(), Number.parseFloat()"></a>6.3 Number.parseInt(), Number.parseFloat()</h3><p>ES6将全局方法<code>parseInt()</code>和<code>parseFloat()</code>，移植到<code>Number</code>对象上面，行为完全保持不变。</p>
<h3 id="6-4-Number-isInteger"><a href="#6-4-Number-isInteger" class="headerlink" title="6.4 Number.isInteger()"></a>6.4 Number.isInteger()</h3><p><code>Number.isInteger()</code>用来判断一个数值是否为整数。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25</span>) // <span class="literal">true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>) // <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<h3 id="6-5-Number-EPSILON"><a href="#6-5-Number-EPSILON" class="headerlink" title="6.5 Number.EPSILON"></a>6.5 Number.EPSILON</h3><p>ES6在<code>Number</code>对象上，新增了一个极小的常量<code>Number.EPSILON</code>，表示1月1的最小浮点数之间的差，实际上是JavaScript能够表示的最小精度。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function withinErrorMargin (left, right) &#123;</span><br><span class="line">  return Math.abs(left - right) &lt; Number.EPSILON * Math.pow(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> <span class="comment">// false</span></span><br><span class="line">withinErrorMargin(<span class="number">0.1</span> + <span class="number">0.2</span>, <span class="number">0.3</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.1</span> + <span class="number">1.3</span> === <span class="number">2.4</span> <span class="comment">// false</span></span><br><span class="line">withinErrorMargin(<span class="number">1.1</span> + <span class="number">1.3</span>, <span class="number">2.4</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>上面的代码为浮点数运算部署了一个误差检查函数。</p>
<h3 id="6-6-安全整数和Number-isSafeInteger"><a href="#6-6-安全整数和Number-isSafeInteger" class="headerlink" title="6.6 安全整数和Number.isSafeInteger()"></a>6.6 安全整数和Number.isSafeInteger()</h3><p>ES6引入了<code>Number.MAX_SAFE_INTEGER</code>和<code>Number.MIN_SAFE_INTEGER</code>两个常量用来表示整数的上下限。<code>Number.isSafeInteger</code>则用来判断一个整数是否落在这个范围内。</p>
<h3 id="6-7-Math对象的扩展"><a href="#6-7-Math对象的扩展" class="headerlink" title="6.7 Math对象的扩展"></a>6.7 Math对象的扩展</h3><p><strong>Math.trunc()</strong><br>用于去除一个数的小数部分，返回整数部分。</p>
<p><strong>Math.sign()</strong><br>用来判断一个数到底是整数、负数、还是零，对于非数值，会先将其转换为数值。它回返回五种植。</p>
<ul>
<li>参数为正数，返回+1；</li>
<li>参数为负数，返回-1；</li>
<li>参数为 0，返回0；</li>
<li>参数为-0，返回-0;</li>
<li>其他值，返回NaN。</li>
</ul>
<p><strong>Math.cbrt()</strong><br>用于计算一个数的立方根。</p>
<p><strong>Math.clz32()</strong><br>返回一个数的32为无符号整数形式有多少个前导0。</p>
<p><strong>Math.imul()</strong><br>返回两个数以32位带符号整数形式相乘的结果，返回的也是一个32为带符号整数。</p>
<p><strong>Math.fround()</strong><br>返回一个数的32位单精度浮点数形式。</p>
<p><strong>Math.hypot()</strong><br>返回所有参数的平方和的平方根。</p>
<p><strong>Mach.expm1()</strong><br>返回e<sup>x</sup>-1。</p>
<p><strong>Math.log1p()</strong><br>返回<code>1 + x</code>的自然对数。</p>
<p><strong>Math.log10()</strong><br>返回以10为底的<code>x</code>的对数。</p>
<p><strong>Math.log2()</strong><br>返回以2为底的<code>x</code>的对数。</p>
<p><strong>双曲函数</strong></p>
<ul>
<li>Math.sinh(x) 返回x的双曲正弦（hyperbolic sine）</li>
<li>Math.cosh(x) 返回x的双曲余弦（hyperbolic cosine）</li>
<li>Math.tanh(x) 返回x的双曲正切（hyperbolic tangent）</li>
<li>Math.asinh(x) 返回x的反双曲正弦（inverse hyperbolic sine）</li>
<li>Math.acosh(x) 返回x的反双曲余弦（inverse hyperbolic cosine）</li>
<li>Math.atanh(x) 返回x的反双曲正切（inverse hyperbolic tangent</li>
</ul>
<h3 id="6-8-指数运算符"><a href="#6-8-指数运算符" class="headerlink" title="6.8 指数运算符"></a>6.8 指数运算符</h3><p>ES2016新增了一个指数运算符（<code>**</code>）。</p>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2018/03/30/ECMAScript-6-Primer-III/" data-toggle="tooltip" data-placement="top" title="ECMAScript-6-Primer-III">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2018/02/08/ECMAScript-6-Primer-I/" data-toggle="tooltip" data-placement="top" title="ECMAScript 6 Primer I">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                

            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#JavaScript" title="JavaScript">JavaScript</a>
                        
                          <a class="tag" href="/tags/#ECMAScript" title="ECMAScript">ECMAScript</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>

        </div>
    </div>
</article>







<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                
                    <li>
                        <a target="_blank" href="https://github.com/Gloomymoon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Gloomymoon 2019
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a>
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span>
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> |
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://gloomymoon.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Baidu Tongji -->


<!-- Side Catalog -->




<!-- Image to hack wechat -->
<img src="http://gloomymoon.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
